<!DOCTYPE html>
<html>
  <head>   
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
    <title>Plantilla</title>
		
		<style type="text/css">
		#texto {
			width: 700px;
			height: 500px;
			border: 1px solid blue;
			padding: 0.4em;
		}
		span {
			border: 2px solid red;
			margin: 1.1em;
			padding: .2em;
			cursor: pointer;
			background-color: pink;
		}
		
		</style>
		
    <script type="text/javascript">

		var guardados = 1;
      
	  window.onload = function(){
		document.getElementById("guardar").addEventListener("mousedown",guardarTextos);
		document.getElementById("negrita").addEventListener("mousedown",ponerNegrita);
		document.getElementById("cursiva").addEventListener("mousedown",ponerCursiva);
		document.getElementById("subrayado").addEventListener("mousedown",ponerSubrayado);
		document.getElementById("color").addEventListener("mousedown",ponerColor);
		document.getElementById("textos").onchange = cambiarTextos;
	  }
	  
	  function ponerNegrita(e){
		document.execCommand('bold',false,null);
		e.preventDefault();
	  }

	  function ponerCursiva(e){
		document.execCommand('italic',false,null);
		e.preventDefault();
	  }

	  function ponerSubrayado(e){
		document.execCommand('underline',false,null);
		e.preventDefault();
	  }

	  function ponerColor(e){
		document.execCommand('forecolor',false,"#00913f" );
		e.preventDefault();
	  }

	  function guardarTextos(){
		var nombre = document.getElementById("text").value;

		if(!localStorage[nombre])
			localStorage[nombre] = "";

		localStorage[nombre] = document.getElementById("texto").innerHTML;

		
		var lista = document.getElementById("textos");
        var option = document.createElement("option");
        option.innerHTML = "Texto " + guardados;
		option.value = nombre;
        lista.appendChild(option);
		guardados++;

	  }

	  function cambiarTextos(){
            var seleccion = document.getElementById("textos").value;
            document.getElementById("texto").innerHTML =  localStorage[seleccion];

	  }

    </script>
  </head>
  
  <body>

    <h3>Procesador de Textos</h3>
	<label for="text">Nombre del texto: </label>
	<input type="text" name="text" id="text">

	<label for="textos">Textos guardados</label>
	<select name="textos" id="textos"></select>	

		<p>
			<span id="guardar">Guardar</span>
			<span id="negrita">Negrita</span>
			<span id="cursiva">Cursiva</span>
			<span id="subrayado">Subrayado</span>
			<span id="color">Color</span>
		</p>
		<div id="texto" contentEditable="true" spellcheck="true">
			Esto es un texto de prueba para no tener que estar escribiendo.
		</div>
		<p id="sal"></p>
    
  </body>
  
</html>
