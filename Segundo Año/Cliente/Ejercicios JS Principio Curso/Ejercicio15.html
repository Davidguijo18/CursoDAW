<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Ejercicio 15 - Informacion sobre eventos</title>

<style type="text/css">
body {font-family: arial, helvetica;}
#info {width:160px; border:thin solid silver; padding:.5em; position:fixed;}
#info h1 {margin: 0;}
</style>

<script type="text/javascript">
function muestraInformacion(mensaje) {
	document.getElementById("info").innerHTML = '<h1>'+mensaje[0]+'</h1>';
	for(var i=1; i<mensaje.length; i++) {
		document.getElementById("info").innerHTML += '<p>'+mensaje[i]+'</p>';
	}
}


function muestraPosicionRaton(elEvento){
	var evento = elEvento || window.event; 

	var navegadorCoordenadaX = evento.clientX;
	var navegadorCoordenadaY = evento.clientY;

	var ie = navigator.userAgent.toLowerCase().indexOf('msie')!=-1;
	var paginaCoordenadaX;
	var paginaCoordenadaY;

	if(ie) {
		paginaCoordenadaX = evento.clientX + document.body.scrollLeft;
		paginaCoordenadaY = evento.clientY + document.body.scrollTop;
	}
	else {
		paginaCoordenadaX = evento.pageX;
		paginaCoordenadaY = evento.pageY;
	}

	var mensaje = ["Posicion del raton","Navegador [X: " + navegadorCoordenadaX+ ",Y: "+navegadorCoordenadaY+"]","Pantalla [X: "+ paginaCoordenadaX+",Y: "+paginaCoordenadaY+"]"];
	muestraInformacion(mensaje);

	document.getElementById("info").style.backgroundColor = "#FFFFFF";
}

	function muestraPosicionTeclado(elEvento){
		var evento = elEvento || window.event;
		
		var caracterPulsado = evento.charCode || evento.keyCode;
		
		var mensaje2 = ["Tecla pulsada", "Caracter pulsado: [" + String.fromCharCode(caracterPulsado) + "]", "Codigo: ["+caracterPulsado+"]"]
		muestraInformacion(mensaje2);

		console.log(mensaje2);

		document.getElementById("info").style.backgroundColor = "#CCE6FF";
	}

	function clickTeclado(elEvento){
		document.getElementById("info").style.backgroundColor = "#FFFFCC";
	}

window.onload = function(){
	document.onmousemove = muestraPosicionRaton;
	document.onkeypress = muestraPosicionTeclado;
	document.onmousedown = clickTeclado;
}

</script>

</head>
<body>
<div id="info"></div>
<br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>
<br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>
<br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>
</body>
</html>
