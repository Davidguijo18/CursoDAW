<h4>Nueva persona</h4>
<div>
    <p>AÃ±adir nueva persona</p>

                            <!--Cambio esta parte, el [formGroup]="form"-->
<form class="form-horizontal" [formGroup]="form" (ngSubmit)="enviar()">
    <div class="mb-3">
        <label for="dni" class="form-label"><b>DNI</b></label>
        <!--El formControlName es lo que relaciona la parte del ts con el html-->
        <input type="text" class="form-control" id="dni" required formControlName="dni">

        @if (form.controls["dni"].invalid && (form.controls["dni"].dirty || form.controls["dni"].touched)) {

            @if (form.controls["dni"].errors?.["required"]){
                <div class="alert alert-danger">
                    El DNI es obligatorio
                </div>
            }

            @if (form.controls["dni"].errors?.["minlength"]) {
                <div class="alert alert-danger">
                    El DNI debe tener al menos 9 caracteres
                </div>
            }
        }
    </div>

    <div class="mb-3">
        <label for="nombre" class="form-label"><b>Nombre</b></label>
        <input type="text" class="form-control" id="nombre" required formControlName="nombre">

        @if (form.controls["nombre"].invalid && (form.controls["nombre"].dirty || form.controls["nombre"].touched)) {
            
            @if (form.controls["nombre"].errors?.["required"]){
                <div class="alert alert-danger">
                    El nombre es obligatorio
                </div>
            }

            @if (form.controls["nombre"].errors?.["minlength"]) {
                <div class="alert alert-danger">
                    El nombre debe tener al menos 2 caracteres
                </div>
            }
        }
    </div>

    <div class="row">
        <label for="apellidos" class="form-label"><b>Apellidos</b></label>
        <input type="text" class="form-control" id="apellidos" required formControlName="apellidos">

        @if (form.controls["apellidos"].invalid && (form.controls["apellidos"].dirty || form.controls["apellidos"].touched)) {
            
            @if (form.controls["apellidos"].errors?.["required"]){
                <div class="alert alert-danger">
                    Los apellidos son obligatorios
                </div>
            }

            @if (form.controls["apellidos"].errors?.["minlength"]) {
                <div class="alert alert-danger">
                    Los apellidos deben tener al menos 8 caracteres
                </div>
            }
        }
    </div>

    <div class="container">
        <button class="btn btn-primary col-2" type="submit" [disabled]="!form.valid">{{textBoton}}</button>
        <span>|</span>
        <a class="btn btn-primary col-2" routerLink="" role="button">Volver</a>  
    </div>

</form>

</div>