<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rutas</title>

    <style type="text/css">
        #mapa {
            width: 100%;
            height: 700px;
            border: 1px solid blue; 
           }

        #informacion{
            width: 400px;
            height: 200px;
            border: 1px solid;
            overflow-y: scroll;
        }   
      </style>

    <script type="text/javascript" src="http://maps.google.com/maps/api/js?key=AIzaSyB5KWBzrJvp3Pzrg6ilHkF4O1zFSTVmfjE"></script>

    <script type="text/javascript">
        var directionsDisplay = new google.maps.DirectionsRenderer();
        var directionsService = new google.maps.DirectionsService();
        var mapa;

        window.onload = function(){
            document.getElementById("btCalcular").addEventListener("click",calcularRuta);
            cargarMapa();
        }



        function cargarMapa(){
            var micasa = new google.maps.LatLng(37.386765, -5.981461);
            var opcionesMapa = {
                zoom: 9,
                center: micasa
            }

            mapa = new google.maps.Map(document.getElementById("mapa"),opcionesMapa);
            directionsDisplay.setMap(mapa);
        }


        function calcularRuta(){
            var origen = document.getElementById("origen").value;
            var destino = document.getElementById("destino").value;
            var request = {
                origin:origen,
                destination:destino,
                travelMode:google.maps.TravelMode.DRIVING
            };

            directionsService.route(request, function(result,status){
                if(status == google.maps.DirectionsStatus.OK){
                    generarInformacion(result);
                    directionsDisplay.setDirections(result);
                }
            });
        }

        function generarInformacion(result){
            var informacion = document.getElementById("informacion");

            for(var i = 0; i < 24; i++){
                var instrucciones = result.routes[0].legs[0].steps[i].instructions;

                informacion.innerHTML = informacion.innerHTML + instrucciones + "<br>";
            }
        }
    </script>

</head>
<body>
    <h3>Ejemplo para crear una ruta con google maps</h3>
    <p>
        <label>Origen: </label>
        <input type="text" id="origen" value="Sevilla"/><br>
        <label>Destino: </label>
        <input type="text" id="destino" value="Murcia"/><br>
        <button id="btCalcular">Calcular ruta</button>
    </p>

    <div id="informacion"></div>
    <div id="mapa"></div>
</body>
</html>