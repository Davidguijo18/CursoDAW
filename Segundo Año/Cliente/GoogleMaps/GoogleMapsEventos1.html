<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <style type="text/css">
    /* TENEMOS QUE DARLE UN TAMAÑO AL DIV QUE CONTIENE EL MAPA. SI NO, NO SE VERÁ  */
      #divmapa {
        width: 700px;
        height: 700px;
        border: 1px solid blue; 
      }
    </style>
    
    <title>API v3 de Google Maps. Ejemplo Eventos 3</title>
    
    <script type="text/javascript" 
      src="http://maps.google.com/maps/api/js?key=AIzaSyB5KWBzrJvp3Pzrg6ilHkF4O1zFSTVmfjE">
    </script>
    
    <script type="text/javascript">
      function CargarMapa() {
        
        var centro = new google.maps.LatLng(37.874327, -0.756041);

        var opciones = {
          center: centro, 
          zoom: 2
        };

        var mapa = new google.maps.Map(document.getElementById("divmapa"), opciones);
    
        var marcador = new google.maps.Marker({
          position: centro,
          map: mapa,
          title: "Hola"
        });
        
        // Evento para hacer zoom al hacer clic sobre el marcador
        google.maps.event.addListener(marcador, 'click', function() {
          mapa.setZoom(mapa.getZoom() + 4);
          mapa.setCenter(marcador.getPosition());
        });


        // Evento para reducir el zoom al hacer clic derecho sobre el mapa
        google.maps.event.addListener(marcador, 'rightclick', function() {
          mapa.setZoom(mapa.getZoom() - 4);
          mapa.setCenter(marcador,getPosition());
        });
      }
      
      window.onload = CargarMapa;
    </script>
  </head>
  
  <body>
    <h3>API v3 de Google Maps. Ejemplo Eventos 3</h3>
    <h5>En esta versión, le añadimos un evento al MAPA.</h5>
    <p>El evento consiste en hacer poner una ventanica de info 
         con las coordenadas allí donde el usuario ha hecho click
    </p>

    <p>
      <div id="divmapa">
        Aquí pondremos el mapa
      </div>
    </p>
  </body>
  
</html>
